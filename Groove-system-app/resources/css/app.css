@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===========================
   Fonts (keep your paths)
=========================== */
@font-face{
  font-family:"PlanetKosmos";
  src:url("/fonts/planet_kosmos.ttf") format("truetype");
  font-weight:400; font-style:normal; font-display:swap;
}
@font-face{
  font-family:"Progress";
  src:url("/fonts/Progress.ttf") format("truetype");
  font-weight:400; font-style:normal; font-display:swap;
}
.font-planet{ font-family:PlanetKosmos, ui-sans-serif, system-ui, sans-serif; }
.font-progress{ font-family:Progress, ui-sans-serif, system-ui, sans-serif; }

/* ======================================================
   TOKENS (OKLCH for crisp UI)
   Apply on <body> one of:
   - theme-light
   - theme-dark
   - theme-ocean
   - theme-auto   (respects prefers-color-scheme)
   - theme-dark-oled (optional ultra-black)
====================================================== */
:root{
  --radius:16px;

  /* base (light-ish) */
  --surface: oklch(98% 0.01 95);
  --layer:   oklch(97% 0.01 95);
  --card:    oklch(100% 0 0);
  --muted:   oklch(96% 0.005 95);
  --line:    oklch(88% 0 95);       
  --shadow:  0 8px 24px rgba(2,8,23,.06);

  /* DEFAULT TEXT COLOR (LIGHT = BLACK) */
  --fg:   oklch(0% 0 0);               /* pure black */
  --fg-2: oklch(45% 0.02 270);
  --fg-3: oklch(62% 0.015 270);

  --brand:      oklch(54% 0.15 255);
  --brand-ink:  oklch(98% 0 0);
  --brand-soft: color-mix(in oklab, var(--brand) 8%, var(--card));

  --good: oklch(68% 0.15 145);
  --warn: oklch(72% 0.16 70);

  --ring: color-mix(in oklab, var(--brand) 40%, transparent);

  /* alias vars used by Blade HTML */
  --foreground: var(--fg);
  --divider:    var(--line);
  --color-primary:            var(--brand);
  --color-primary-foreground: var(--brand-ink);
  --color-card:               var(--card);
}

/* ---------------------------
   LIGHT
--------------------------- */
.theme-light{
  --surface: oklch(98% 0.01 95);
  --layer:   oklch(96% 0.01 95);
  --card:    oklch(100% 0 0);
  --muted:   oklch(97% 0.006 95);
  --line:    oklch(90% 0 95);
  --shadow:  0 8px 24px rgba(2,8,23,.06);

  /* DEFAULT TEXT COLOR (LIGHT = BLACK) */
  --fg:   oklch(0% 0 0);               /* pure black */
  --fg-2: oklch(42% 0.02 270);
  --fg-3: oklch(60% 0.015 270);

  --brand:      oklch(55% 0.15 255);
  --brand-ink:  oklch(98% 0 0);
  --brand-soft: color-mix(in oklab, var(--brand) 8%, var(--card));
  --ring:       color-mix(in oklab, var(--brand) 38%, transparent);

  /* refresh aliases */
  --foreground: var(--fg);
  --divider:    var(--line);
  --color-primary:            var(--brand);
  --color-primary-foreground: var(--brand-ink);
}

/* ---------------------------
   DARK (deeper, velvety)
--------------------------- */
.theme-dark{
  /* pushed deeper vs original */
  --surface: oklch(12% 0.010 260);
  --layer:   oklch(15% 0.012 260);
  --card:    oklch(20% 0.012 260);
  --muted:   oklch(24% 0.008 260);
  --line:    oklch(34% 0.010 260);     /* slightly lighter for clarity */
  --shadow:  0 16px 40px rgba(0,0,0,.55);

  /* DEFAULT TEXT COLOR (DARK = WHITE) */
  --fg:   oklch(100% 0 0);             /* pure white */
  --fg-2: oklch(86% 0.009 270);
  --fg-3: oklch(72% 0.008 270);

  /* richer brand for contrast */
  --brand:      oklch(74% 0.16 255);
  --brand-ink:  oklch(98% 0 0);
  --brand-soft: color-mix(in oklab, var(--brand) 16%, var(--card));
  --ring:       color-mix(in oklab, var(--brand) 60%, transparent);

  /* zinc-ish border scale so borders never look white */
  --line-500: oklch(55% 0.015 260);
  --line-400: oklch(68% 0.010 260);
  --line-300: oklch(80% 0.006 260);
  --line-200: oklch(88% 0.004 260);

  /* alias refresh */
  --foreground: var(--fg);
  --divider:    var(--line);
  --color-primary:            var(--brand);
  --color-primary-foreground: var(--brand-ink);
}

/* ---------------------------
   OCEAN (cool teal accents)
   Dark-leaning neutral with teal brand
--------------------------- */
.theme-ocean{
  /* surfaces with subtle blue-green tint */
  --surface: oklch(17% 0.020 230);     /* ~#0b1e26 */
  --layer:   oklch(20% 0.020 230);     /* ~#0e2630 */
  --card:    oklch(24% 0.018 230);     /* ~#11303b */
  --muted:   oklch(28% 0.016 230);
  --line:    oklch(38% 0.010 240);     /* neutral zinc-like divider */
  --shadow:  0 14px 36px rgba(0,0,0,.45);

  /* DEFAULT TEXT COLOR (DARKISH = WHITE) */
  --fg:   oklch(100% 0 0);             /* pure white */
  --fg-2: oklch(86% 0.008 250);
  --fg-3: oklch(72% 0.006 250);

  /* TEAL brand */
  --brand:      oklch(70% 0.17 180);  
  --brand-ink:  oklch(98% 0 0);
  --brand-soft: color-mix(in oklab, var(--brand) 16%, var(--card));
  --ring:       color-mix(in oklab, var(--brand) 55%, transparent);

  /* keep zinc-ish scale for borders */
  --line-500: oklch(55% 0.015 260);
  --line-400: oklch(68% 0.010 260);
  --line-300: oklch(80% 0.006 260);
  --line-200: oklch(88% 0.004 260);

  /* alias refresh */
  --foreground: var(--fg);
  --divider:    var(--line);
  --color-primary:            var(--brand);
  --color-primary-foreground: var(--brand-ink);
}

/* ---------------------------
   AUTO (follow OS)
--------------------------- */
@media (prefers-color-scheme: dark){
  .theme-auto{
    --surface: oklch(12% 0.010 260);
    --layer:   oklch(15% 0.012 260);
    --card:    oklch(20% 0.012 260);
    --muted:   oklch(24% 0.008 260);
    --line:    oklch(34% 0.010 260);
    --shadow:  0 16px 40px rgba(0,0,0,.55);

    /* DEFAULT TEXT COLOR (AUTO-DARK = WHITE) */
    --fg:   oklch(100% 0 0);
    --fg-2: oklch(86% 0.009 270);
    --fg-3: oklch(72% 0.008 270);

    --brand:      oklch(74% 0.16 255);
    --brand-ink:  oklch(98% 0 0);
    --brand-soft: color-mix(in oklab, var(--brand) 16%, var(--card));
    --ring:       color-mix(in oklab, var(--brand) 60%, transparent);

    --line-500: oklch(55% 0.015 260);
    --line-400: oklch(68% 0.010 260);
    --line-300: oklch(80% 0.006 260);
    --line-200: oklch(88% 0.004 260);

    --foreground: var(--fg);
    --divider:    var(--line);
    --color-primary:            var(--brand);
    --color-primary-foreground: var(--brand-ink);
  }
}

/* ---------------------------
   OPTIONAL: OLED PURE-BLACK
--------------------------- */
.theme-dark-oled{
  --surface: oklch(4% 0.002 260);
  --layer:   oklch(8% 0.004 260);
  --card:    oklch(12% 0.006 260);
  --muted:   oklch(16% 0.006 260);
  --line:    oklch(28% 0.010 260);

  --fg:   oklch(100% 0 0);
  --fg-2: oklch(88% 0.008 270);
  --fg-3: oklch(74% 0.006 270);

  --brand:      oklch(78% 0.16 255);
  --brand-ink:  oklch(98% 0 0);
  --brand-soft: color-mix(in oklab, var(--brand) 18%, var(--card));
  --ring:       color-mix(in oklab, var(--brand) 62%, transparent);
}

/* ===========================
   Utility helpers
=========================== */
.bg-surface{ background:var(--surface); }
.bg-layer{ background:var(--layer); }
.bg-card{ background:var(--card); }
.text-fg{ color:var(--fg); }
.text-fg-2{ color:var(--fg-2); }
.text-fg-3{ color:var(--fg-3); }
.border-line{ border-color:var(--line); }
.bg-brand{ background:var(--brand); }
.text-brand{ color:var(--brand); }
.text-brand-ink{ color:var(--brand-ink); }
.bg-brand-soft{ background:var(--brand-soft); }

/* alias utilities to match your Blade classes */
.text-foreground{ color: var(--foreground); }
.bg-primary{ background: var(--color-primary); }
.text-primary-foreground{ color: var(--color-primary-foreground); }
.border-divider{ border-color: var(--divider); }
/* “border-divider/40” etc. without Tailwind config */
.border-divider\/40{ border-color: color-mix(in oklab, var(--divider) 40%, transparent); }
.border-divider\/50{ border-color: color-mix(in oklab, var(--divider) 50%, transparent); }
.border-divider\/60{ border-color: color-mix(in oklab, var(--divider) 60%, transparent); }

/* ===========================
   Base + polish
=========================== */
@layer base{
  html{ @apply antialiased; }
  body{ background:var(--surface); color:var(--fg); }

  ::selection{
    background: color-mix(in oklab, var(--brand) 30%, transparent);
    color:var(--fg);
  }

  /* thin scrollbars */
  *{ scrollbar-width:thin; scrollbar-color: color-mix(in oklab, var(--fg) 18%, transparent) transparent; }
  *::-webkit-scrollbar{ width:8px; height:8px; }
  *::-webkit-scrollbar-thumb{ background:color-mix(in oklab, var(--fg) 16%, transparent); border-radius:999px; }
}

/* ===========================
   Components
=========================== */
@layer components{
  .elev-sm{ box-shadow: var(--shadow); }

  .card{
    background:var(--card);
    border:1px solid var(--line);
    border-radius:var(--radius);
    box-shadow:var(--shadow);
  }

  .rail{
    background:var(--layer);
    border:1px solid var(--line);
    border-radius:var(--radius);
  }

  .toolbar{
    @apply w-full;
    background: color-mix(in oklab, var(--surface) 70%, transparent);
    backdrop-filter: blur(10px) saturate(140%);
    border-bottom: 1px solid var(--line);
  }

  .hero-banner{
    background: linear-gradient(180deg,
                 color-mix(in oklab, var(--brand) 92%, black 0%) 0%,
                 color-mix(in oklab, var(--brand) 80%, black 0%) 100%);
    color:var(--brand-ink);
    border-radius: 14px;
  }

  .tablist{ @apply flex gap-1 p-1 rounded-full; background:var(--muted); border:1px solid var(--line); }
  .tab{ @apply px-3 py-1.5 text-sm rounded-full transition; color:var(--fg-2); }
  .tab[aria-selected="true"]{
    background:var(--card); color:var(--fg);
    box-shadow:0 1px 0 color-mix(in oklab, var(--fg) 12%, transparent) inset;
  }

  .btn{
    @apply inline-flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium rounded-xl transition active:scale-[.98];
    border:1px solid color-mix(in oklab, var(--line) 85%, transparent);
  }
  .btn-primary{
    background:var(--brand); color:var(--brand-ink);
    box-shadow:0 14px 28px color-mix(in oklab, var(--brand) 35%, transparent);
  }
  .btn-primary:hover{ filter:brightness(.96); }

  .btn-ghost{ background:transparent; color:var(--fg); }
  .btn-ghost:hover{ background: color-mix(in oklab, var(--muted) 60%, transparent); }

  .input{
    @apply w-full px-3 py-2 rounded-xl text-sm;
    background:var(--card); color:var(--fg);
    border:1px solid var(--line);
    transition: box-shadow .2s, border-color .2s, background .2s, color .2s;
  }
  .input:focus-visible{
    outline:none; border-color:var(--brand); box-shadow:0 0 0 4px var(--ring);
  }

  .badge{
    @apply inline-flex items-center gap-1 px-2 py-0.5 text-xs rounded-full;
    background:var(--muted); color:var(--fg-2);
    border:1px solid color-mix(in oklab, var(--line) 80%, transparent);
  }
}

/* ===========================
   Extra dark/ocean component refinements
=========================== */
.theme-dark .toolbar,
.theme-ocean .toolbar,
.theme-auto .toolbar{
  background: color-mix(in oklab, var(--layer) 86%, transparent);
  border-bottom-color: var(--line);
  backdrop-filter: blur(10px) saturate(140%);
}

.theme-dark .tablist, .theme-ocean .tablist, .theme-auto .tablist{
  background: color-mix(in oklab, var(--muted) 85%, var(--layer));
}

.theme-dark .tab[aria-selected="true"],
.theme-ocean .tab[aria-selected="true"],
.theme-auto .tab[aria-selected="true"]{
  background: var(--card); color: var(--fg);
  box-shadow: 0 1px 0 color-mix(in oklab, var(--fg) 18%, transparent) inset;
}

.theme-dark .btn, .theme-ocean .btn, .theme-auto .btn{
  border-color: color-mix(in oklab, var(--line) 90%, transparent);
}
.theme-dark .btn-primary, .theme-ocean .btn-primary, .theme-auto .btn-primary{
  background: var(--brand); color: var(--brand-ink);
  box-shadow: 0 14px 28px color-mix(in oklab, var(--brand) 35%, transparent);
}
.theme-dark .btn-ghost:hover, .theme-ocean .btn-ghost:hover, .theme-auto .btn-ghost:hover{
  background: color-mix(in oklab, var(--muted) 65%, transparent);
}

.theme-dark .input, .theme-ocean .input, .theme-auto .input{
  background: color-mix(in oklab, var(--card) 90%, black 0%);
  border-color: var(--line);
}
.theme-dark .input:focus-visible, .theme-ocean .input:focus-visible, .theme-auto .input:focus-visible{
  outline: none; border-color: var(--brand); box-shadow: 0 0 0 4px var(--ring);
}

.theme-dark .badge, .theme-ocean .badge, .theme-auto .badge{
  background: color-mix(in oklab, var(--muted) 80%, var(--layer));
  color: var(--fg-2);
  border-color: color-mix(in oklab, var(--line) 85%, transparent);
}

.theme-dark .hero-banner, .theme-ocean .hero-banner, .theme-auto .hero-banner{
  background: linear-gradient(180deg,
    color-mix(in oklab, var(--brand) 92%, black) 0%,
    color-mix(in oklab, var(--brand) 78%, black) 100%);
  color: var(--brand-ink);
  border-radius: 14px;
}

/* Scrollbars on very dark */
.theme-dark *::-webkit-scrollbar-thumb,
.theme-ocean *::-webkit-scrollbar-thumb,
.theme-auto *::-webkit-scrollbar-thumb{
  background: color-mix(in oklab, var(--fg) 22%, transparent);
}

/* Smooth theme transitions (respect reduced motion) */
:where(.theme-dark, .theme-ocean, .theme-auto, .theme-dark-oled) *{
  transition: background-color .2s, color .2s, border-color .2s, box-shadow .2s;
}
@media (prefers-reduced-motion: reduce){
  :where(.theme-dark, .theme-ocean, .theme-auto, .theme-dark-oled) *{ transition: none; }
}

/* ===========================
   Enforce gray borders on dark/ocean (no white)
=========================== */
.theme-dark .card,  .theme-ocean .card,  .theme-auto .card{  border-color: var(--line-500); }
.theme-dark .rail,  .theme-ocean .rail,  .theme-auto .rail{  border-color: var(--line-500); }
.theme-dark .tablist,.theme-ocean .tablist,.theme-auto .tablist{ border-color: var(--line-400); }
.theme-dark .badge,  .theme-ocean .badge,  .theme-auto .badge{  border-color: var(--line-400); }
.theme-dark .toolbar,.theme-ocean .toolbar,.theme-auto .toolbar{ border-bottom-color: var(--line-400); }
.theme-dark .input,  .theme-ocean .input,  .theme-auto .input{  border-color: var(--line-500); }




